---
title: 'genderBR: Predicting gender from Brazilian first names'
tags:
  - R
  - gender inference
  - Brazil
  - census data
authors:
  - name: Fernando Meireles
    orcid: 0000-0002-7027-2058
    affiliation: "1"
    corresponding: true
    email: fernando.meireles@iesp.uerj.br
affiliations:
 - name: Instituto de Estudos Sociais e Politicos, Universidade do Estado do Rio de Janeiro, Brazil
   index: 1
date: 16 January 2026
year: 2026
bibliography: paper.bib
output: rticles::joss_article
---

```{r setup, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(genderBR)
```

# Summary

Quantitative social science research frequently relies on large-scale administrative or scraped datasets that lack demographic indicators -- including gender. While inferring gender from first names is often used to bridge this gap, existing tools mostly target Anglophone populations and use non-public, commercial data and methods. `genderBR` is an R package for inferring binary gender probabilities from Brazilian first names using official data from the 2010 and 2022 Brazilian censuses. The package offers a fast offline mode via an internal dataset and an online mode that queries IBGE's API and supports state-level filters, allowing calibration to temporal and regional variations in name–gender associations. By using census microdata, `genderBR` thus enables academics, journalists, and others to obtain binary gender probabilities to study aggregate demographic groups in a reproducible manner.

# Statement of need

A common challenge in quantitative social science is the lack of demographic information in large-scale datasets. For instance, researchers frequently utilize administrative records and other data sources that do not contain gender information to study topics as diverse as elections and descriptive representation [@colner2025running; @lucas2021women; @warshaw2022local]; labor market inequalities [@banerjee2025gender; @wu2020gender]; academic publishing patterns and career trajectories [@dion2018gendered; @gaule2018advisor; @hagan2020women; @liu2023gender; @mulders2024matter]; the effects of gender composition of jury trials [@flanagan2018race]; among many others. As these datasets often include first names, scholars often resort to imputing gender based on first names, exploiting naming conventions that correlate with a binary gender classification.

Despite these limitations, obtaining gender labels from first names remains a popular method in the absence of direct measures. For example, solutions such as @genderAPI, @Namsor, and @genderize offer commercial APIs that allow users to query first names and obtain gender predictions based on proprietary datasets. In the open-source domain, packages such as `gender` [@Mullen2016; see also @shi2025open; @tzioumis2018demographic] rely on historical datasets from the United States or Europe, such as name counts by gender from the US Social Security Administration, to predict gender. While useful for Anglophone contexts, these tools are not well-suited for other populations due to differences in naming conventions. In a comparative assessment, @vanhelene2024inferring show that these methods are highly accurate for Western populations, with both @genderAPI and @genderize achieving accuracies exceeding 98% in classifying a global dataset of mostly Western names. However, performance dropped below 82% for names from South Korea, China, Singapore, and Taiwan. The open-source alternative, the `gender` package [@Mullen2016], achieved an even lower overall accuracy, of only 79.8% using the IPUMS method and 85.7% using US Social Security Administration data. In a different study, @santamaria2018comparison corroborates these findings for Asian populations, showing also that, even among Western names, commercial solutions can leave as many as 20% of names unclassified due to limited name coverage.

`genderBR` addresses these gaps by offering an open-source solution tailored to a particular non-Anglophone country -- Brazil, the world's largest Portuguese-speaking country with over 200 million people. First released in 2017, when few similar tools existed, the package is grounded in Brazilian Institute of Geography and Statistics (IBGE) census microdata [@IBGE2022], which provides standardized counts of first-name occurrences by gender as recorded in the census -- coded as a binary classification based on self-reports. The package supports both national and state-level predictions for 2010 and 2022 via IBGE's public API. Unlike API-based solutions that rely on private or non-representative scraped data, `genderBR` leverages official census data to provide broad coverage of Brazilian names^[1], allowing accurate and reproducible gender predictions for Brazilian populations.

[^1]: According to the official documentation from IBGE [@IBGE2022], only first names with at least 20 occurrences in the whole country, or at least 15 in a given state, are included in the public microdata. However, as the package combines data from two different censuses, this threshold still allows for a comprehensive coverage of common names.


# Software Design

`get_gender` is the package's core function: it cleans names (converts to lowercase, strips accents, and keeps only the first token that in Portuguese corresponds to the first name), aggregates duplicates to reduce computation time, and returns either binary labels or female-use probabilities. Users can switch between census years (`year = 2010` or `year = 2022`), request probabilities (`prob = TRUE`), tune decision threshold (`threshold`, default is 0.9 to maximize accuracy), and choose the data source. When `internal = TRUE` (the default) and no state is provided, results come from a bundled probability table (`nomes`), enabling fully offline analyses with the R package `data.table` [@datatable] as backend for fast joining operations. This internal data is stored as compressed `.Rda` to minimize package size while ensuring availability. Conversely, when a state is supplied or `internal = FALSE`, the function queries IBGE's API (with rate-limit handling), which obtains state-level data needed for specific regional predictions. This design choice avoids inflating the package size with state-level microdata for every census year. `internal`, thus, triggers different internal modules, non-exposed to users, depending on the requested functionality.

To make it easier to use `genderBR` on large datasets, the internal table with all female-by-name probabilities is available as a standalone `data.frame` named `nomes`, which users can join to their own data via first names. The distribution of unique names per census year can be seen in \autoref{table:names}.


```{r, echo=FALSE, warning=FALSE, message=FALSE}
# Access package's internal dataset and calculates total number of individuals surveyed
nomes <- genderBR:::nomes
nomes2010 <- sum(!is.na(nomes$prob_fem10))
nomes2022 <- sum(!is.na(nomes$prob_fem22))
total_unique <- nomes2010 + nomes2022 - sum(!is.na(nomes$prob_fem10) & !is.na(nomes$prob_fem22))
```

Year | Unique names
---:|:------------
2010 | `r format(nomes2010, big.mark = ",")`
2022 | `r format(nomes2022, big.mark = ",")`
Unique (2010 & 2022) | `r format(total_unique, big.mark = ",")`

: Unique first names covered in the package's dataset per census year. \label{table:names}


## Classification algorithm

```{r, message=FALSE, include=FALSE}
options(digits = 4)
devtools::load_all()
```

After installing and loading the package, users can call the main function as follows. To obtain national predictions with binary labels for a vector of names, user can pass a vector of Brazilian first or full names, with both accented and unaccented characters and mixed case, to the `get_gender` function:

```{r}
# Return labels
name_vec <- c("João", "Ana Maria da Silva", "alex")
get_gender(name_vec)

# Return probabilities of given names being female
get_gender(name_vec, prob = TRUE)
```

To obtain the probabilities calibrated to specific period and Brazilian states, users can provide a `state` vector with the corresponding two-letter state abbreviations (e.g., "RJ" for Rio de Janeiro), in which case the function will query IBGE's API directly, instead of using the internal data, to calculate name-by-gender-state probabilities. 

Internally, `genderBR` computes $p_\text{female} = \frac{f}{f + m}$ for each name (and state, when provided), where $f$ and $m$ are IBGE female and male counts, respectively. The returned label applies the rule: female if $p_\text{female} > \tau$, male if $p_\text{female} < 1 - \tau$, and unknown otherwise, with the default $\tau = 0.9$. Names not found in the census data are returned as missing values (`NA`). This decision threshold is deterministic, but users can tune $\tau$ to trade off precision and coverage in their applications. 


## Validation

As a validation exercise, I test the package's accuracy on a dataset of `r format(nrow(candidates), big.mark = ",")` candidates from Brazil's 2024 municipal elections. Their self-reported binary gender data were obtained from official electoral records using the `electionsBR` R package [@electionsBR]. This data includes the full names and reported gender for candidates running for mayor or city councilor positions across all Brazilian municipalities. In particular, I use `genderBR` to obtain the probabilities of each candidate being female. To classify names into gender labels, I adopt varying thresholds from 0.5 (most inclusive) to 0.9 (most strict). 

As summarized in \autoref{table:validation}, `genderBR` achieves high accuracy across all thresholds, never falling below 99%, for covered names (considering only names that were classified as male or female). Additionally, the method obtains almost complete coverage, leaving as few as 3% of the names unclassified (when they were not found in the census data) and less than 2.5% as unknown (when the predicted probability fell within the uncertain range), even at the strictest threshold of 0.9.

```{r, echo=FALSE, message=FALSE, warning=FALSE}
# Load dataset with candidates' names
candidates <- readRDS("candidates_2024.rds")

# Get probabilities using genderBR
classify <- function(prob, threshold) {
  case_when(
    prob > threshold ~ "Female",
    prob <= (1 - threshold) ~ "Male",
    prob > (1 - threshold) & prob <= threshold ~ "Unknown",
    TRUE ~ "Unclassified"
  )
}

candidates %>%
  mutate(
    id = row_number(),
    `2010` = get_gender(name, prob = TRUE, year = 2010),
    `2022` = get_gender(name, prob = TRUE, year = 2022),
    reported_gender = ifelse(reported_gender == "MASCULINO", "Male", "Female")
  ) %>%
  pivot_longer(-c(id, name, reported_gender), names_to = "year", values_to = "prob_fem") %>%
  mutate(
    gender_90 = classify(prob_fem, 0.9),
    gender_80 = classify(prob_fem, 0.8),
    gender_70 = classify(prob_fem, 0.7),
    gender_60 = classify(prob_fem, 0.6),
    gender_50 = classify(prob_fem, 0.5),
  ) %>%
  select(id, year, reported_gender, contains("gender")) %>%
  pivot_longer(
    -c(id, year, reported_gender),
    names_to = "threshold",
    values_to = "predicted_gender"
  ) %>%
  mutate(threshold = str_remove(threshold, "gender_")) %>%
  mutate(threshold = as.numeric(threshold) / 100) %>%
  # Summarise accuracy
  group_by(year, threshold) %>%
  summarise(
    total = n(),
    unclassified = sum(predicted_gender == "Unclassified"),
    unkown = sum(predicted_gender == "Unknown"),
    classified = total - unclassified - unkown,
    correct = sum(predicted_gender == reported_gender),
    accuracy = correct / classified,
    pct_unkown = unkown / total,
    pct_unclassified = unclassified / total,
    ..groups = "drop"
  ) %>%
  select(year, threshold, accuracy, pct_unkown, pct_unclassified) %>%
  pivot_wider(names_from = year, values_from = c(accuracy, pct_unkown, pct_unclassified)) %>%
  mutate(across(contains("_20"), ~ scales::percent(., accuracy = 0.1))) %>%
  # Markdown table
  knitr::kable(
    col.names = c(
      "Threshold", "Accuracy (2010)", "Accuracy (2022)",
      "Unknown (2010)", "Unknown (2022)",
      "Unclassified (2010)", "Unclassified (2022)"
    ), format = "pipe",
    caption = "Validation results using 2024 municipal election candidates' dataset \\label{table:validation}"
  )
```


# Research Impact

The `genderBR` package was released on CRAN in September 2017 and has since been downloaded over 41,000 times (as of January 2025).^[2] In academia, the package has collected over 21 citations on Google Scholar in the author's profile^[3], although the actual number of papers using the package is likely higher as it did not have a formal publication until now -- and many researchers may have used it without proper citation. A search for the term "genderBR" on Google Scholar, for example, returns 81 entries, including working papers, preprints, and published articles^[4]. Substantively, the package has been used in a variety of research areas, including economics, business, social sciences, scientometrics, and more [@borenstein2022academic; @corradini2025collective; @fanton2024philosophical; @mastella2021board; @minasi2022desigualdade].

[^2]: The number of downloads can be checked at [cranlogs](https://cranlogs.r-pkg.org/badges/grand-total/genderBR). The CRAN package page is available at [CRAN genderBR](https://cran.r-project.org/package=genderBR).

[^3]: This number was obtained from the author's [Google Scholar profile](https://scholar.google.com/citations?view_op=view_citation&hl=pt-BR&user=hMma3BsAAAAJ&citation_for_view=hMma3BsAAAAJ:-f6ydRqryjwC) on January 2025.

[^4]: A search for the term ["genderBR"](https://scholar.google.com/scholar?q="genderBR") on Google Scholar was performed on January 2025.


# Ethical Considerations

While `genderBR` provides a fast and reproducible method for imputing gender from first names, it is crucial to acknowledge the implications of using this approach. By relying on a binary gender classification derived from naming conventions recorded at birth, the provided method is unable to differentiate between non-binary gender identities or changes in gender identity over time. In line with recommendations from similar packages [@Mullen2016], users should avoid using `genderBR` to impose binary classifications to individuals or in contexts where misclassification may lead to harm or discrimination against groups. Instead, the package should be regarded as an estimator for aggregate, large populations -- to approximate the proportion of female partisan affiliates in the whole country, for example. In sum, `genderBR` should be viewed as a last resort tool when self-identified gender data is lacking and inferring it from first names does not pose risks to groups under study.

# AI Usage Disclosure

From the package version 1.2.0 onwards, AI tools (GPT-5.2 Codex Max) were used to assist in extending tests, updating documentation, and revising this paper. All code and text generated by AI tools were reviewed, edited, and validated by the author.


# Acknowledgements

I thank the Brazilian Institute of Geography and Statistics for providing the public census name data that make this work possible, and the `R` and academic communities that contributed to the development of the package with feedback and suggestions over the years.

# References
